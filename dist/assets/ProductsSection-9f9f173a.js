var V=Object.defineProperty;var U=(e,t,a)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var S=(e,t,a)=>(U(e,typeof t!="symbol"?t+"":t,a),a),P=(e,t,a)=>{if(!t.has(e))throw TypeError("Cannot "+a)};var y=(e,t,a)=>(P(e,t,"read from private field"),a?a.call(e):t.get(e)),A=(e,t,a)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,a)},R=(e,t,a,i)=>(P(e,t,"write to private field"),i?i.call(e,a):t.set(e,a),a);import{r as d,G as g,j as s,a as r,R as W,F as x,b as Z,I as $}from"./index-4a89c062.js";import{s as F,v as Q}from"./v4-c627eb50.js";var b,v;class G{constructor(t,a){A(this,b,void 0);A(this,v,void 0);R(this,b,t),R(this,v,a)}read(){const t=y(this,v).getItem(y(this,b));return t===null?null:JSON.parse(t)}write(t){y(this,v).setItem(y(this,b),JSON.stringify(t))}}b=new WeakMap,v=new WeakMap;class Y extends G{constructor(t){super(t,localStorage)}}function J(e,t){if(e===void 0)throw new Error("lowdb: missing adapter");if(t===void 0)throw new Error("lowdb: missing default data")}class q{constructor(t,a){S(this,"adapter");S(this,"data");J(t,a),this.adapter=t,this.data=a}read(){const t=this.adapter.read();t&&(this.data=t)}write(){this.data&&this.adapter.write(this.data)}update(t){t(this.data),this.write()}}function O(e,t){const a=new Y(e),i=new q(a,t);return i.read(),i}const K=[{id:1,name:"Filet Mignon with Truffle Sauce",description:"A succulent cut of beef, cooked to perfection and accompanied by a delicate black truffle sauce, served with rosemary-infused mashed potatoes.",price:75.99,category:"Main Course",preparationTime:35,rating:4.8},{id:2,name:"Lobster Thermidor",description:"Fresh lobster gratinated with a rich blend of cream, egg yolks, and Dijon mustard, accompanied by steamed asparagus.",price:89.5,category:"Main Course",preparationTime:40,rating:4.9},{id:3,name:"Coq au Vin",description:"Classic French dish of chicken braised in red wine, mushrooms, and onions, served with buttery mashed potatoes.",price:60,category:"Main Course",preparationTime:50,rating:4.7},{id:4,name:"Caviar with Blinis and Crème Fraîche",description:"Exquisite caviar served atop delicate blinis with a dollop of crème fraîche, a dish of unparalleled elegance.",price:120,category:"Appetizer",preparationTime:20,rating:4.9},{id:5,name:"Chocolate Fondant with Vanilla Bean Ice Cream",description:"Decadent chocolate fondant with a molten center, served with a scoop of vanilla bean ice cream.",price:25,category:"Dessert",preparationTime:25,rating:4.8},{id:6,name:"Beef Wellington",description:"Tender beef fillet wrapped in layers of pâté, duxelles, and puff pastry, baked to golden perfection and served with a rich red wine jus.",price:95,category:"Main Course",preparationTime:45,rating:4.9},{id:7,name:"Seared Foie Gras with Caramelized Apples",description:"Luxurious foie gras, seared to perfection and served with caramelized apples and a drizzle of balsamic reduction.",price:85,category:"Appetizer",preparationTime:20,rating:4.8},{id:8,name:"Risotto alla Milanese with Saffron",description:"Creamy risotto infused with the finest saffron, topped with a sprinkle of Parmigiano-Reggiano.",price:50,category:"Main Course",preparationTime:30,rating:4.7},{id:9,name:"Chateaubriand with Béarnaise Sauce",description:"Prime cut of beef tenderloin, perfectly grilled and served with a classic Béarnaise sauce, accompanied by seasonal vegetables.",price:110,category:"Main Course",preparationTime:40,rating:4.9},{id:10,name:"Tarte Tatin",description:"An elegant upside-down tart of caramelized apples, served warm with a scoop of vanilla ice cream.",price:30,category:"Dessert",preparationTime:35,rating:4.8},{id:11,name:"Oysters Rockefeller",description:"Plump oysters baked on the half shell with a rich mixture of spinach, herbs, and Pernod, topped with buttery breadcrumbs.",price:70,category:"Appetizer",preparationTime:25,rating:4.8},{id:12,name:"Duck à l'Orange",description:"Crispy duck breast glazed with a classic orange sauce, served with braised red cabbage and roasted potatoes.",price:80,category:"Main Course",preparationTime:50,rating:4.7},{id:13,name:"Bouillabaisse",description:"A traditional Provençal fish stew made with the freshest seafood, flavored with saffron, garlic, and tomatoes, served with a side of rouille and toasted bread.",price:95,category:"Main Course",preparationTime:60,rating:4.9},{id:14,name:"Baked Alaska",description:"A spectacular dessert of sponge cake topped with ice cream, all encased in toasted meringue, flambéed tableside.",price:45,category:"Dessert",preparationTime:30,rating:4.9},{id:15,name:"Scallops with Champagne Sauce",description:"Pan-seared scallops served with a luxurious Champagne sauce, garnished with fresh herbs and a touch of caviar.",price:90,category:"Appetizer",preparationTime:20,rating:4.9},{id:16,name:"Rack of Lamb with Herb Crust",description:"Tender rack of lamb encrusted with fresh herbs and garlic, roasted to perfection, served with a red wine reduction and baby vegetables.",price:100,category:"Main Course",preparationTime:40,rating:4.8},{id:17,name:"Sea Bass en Papillote",description:"Delicate sea bass fillet steamed in parchment with julienned vegetables, white wine, and herbs, served with a light beurre blanc.",price:85,category:"Main Course",preparationTime:35,rating:4.7},{id:18,name:"Black Truffle Risotto",description:"Creamy risotto made with arborio rice, infused with aromatic black truffles and finished with Parmigiano-Reggiano.",price:120,category:"Main Course",preparationTime:30,rating:4.9},{id:19,name:"Quail Stuffed with Wild Mushrooms",description:"Succulent quail stuffed with a blend of wild mushrooms, herbs, and foie gras, served with a port wine reduction.",price:105,category:"Main Course",preparationTime:45,rating:4.8},{id:20,name:"Mille-Feuille",description:"A classic French pastry with layers of crispy puff pastry, filled with rich vanilla custard and topped with a delicate glaze.",price:35,category:"Dessert",preparationTime:25,rating:4.7},{id:21,name:"Peking Duck",description:"Crispy Peking duck served with thin pancakes, hoisin sauce, and sliced scallions, offering an authentic taste of Chinese culinary artistry.",price:130,category:"Main Course",preparationTime:60,rating:4.9},{id:22,name:"Lobster Bisque",description:"Rich and creamy lobster bisque, made with fresh lobster stock, a touch of brandy, and finished with a swirl of cream.",price:70,category:"Appetizer",preparationTime:30,rating:4.8},{id:23,name:"Osso Buco alla Milanese",description:"Slow-braised veal shanks in a savory tomato and white wine sauce, served with a saffron risotto, a true Milanese specialty.",price:90,category:"Main Course",preparationTime:90,rating:4.8},{id:24,name:"Tournedos Rossini",description:"Filet mignon topped with foie gras and truffle, served with a Madeira sauce, exemplifying French gourmet cuisine.",price:150,category:"Main Course",preparationTime:50,rating:4.9},{id:25,name:"Pan-Seared Scallops with Lemon Butter",description:"Perfectly seared scallops with a zesty lemon butter sauce, garnished with fresh herbs and served with a side of sautéed spinach.",price:95,category:"Main Course",preparationTime:25,rating:4.7},{id:26,name:"Boeuf Bourguignon",description:"Traditional French stew of beef braised in red wine, with carrots, onions, and mushrooms, served with crusty bread.",price:75,category:"Main Course",preparationTime:120,rating:4.8},{id:27,name:"Shrimp Scampi",description:"Juicy shrimp sautéed in garlic butter, white wine, and lemon, served over a bed of linguine with a sprinkle of parsley.",price:80,category:"Main Course",preparationTime:25,rating:4.7},{id:28,name:"Ratatouille",description:"Classic Provençal vegetable dish, featuring layers of eggplant, zucchini, and bell peppers, slow-cooked in a tomato and herb sauce.",price:55,category:"Main Course",preparationTime:60,rating:4.6},{id:29,name:"Crème Brûlée",description:"Rich custard topped with a thin, crisp layer of caramelized sugar, served chilled with a hint of vanilla.",price:30,category:"Dessert",preparationTime:20,rating:4.9},{id:30,name:"Escargots à la Bourguignonne",description:"Tender snails baked in garlic herb butter, served with warm crusty bread for a true taste of French cuisine.",price:65,category:"Appetizer",preparationTime:25,rating:4.8}];function X(){const[e,t]=d.useState("pending"),[a,i]=d.useState(null);d.useEffect(()=>{c()},[]);const c=async l=>{t("pending");const n=O("products",K);await F(800+Math.random()*201),n.write(),i(l?n.data.filter(p=>new RegExp(`.*${l}.*`,"i").test(p.name)):n.data),t("success")};return{products:a,setProducts:i,loadState:e,fetchProducts:c,fetchWithError:async()=>{t("pending"),await F(800+Math.random()*201),i(null),t("error")}}}function ee(e){return g({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},child:[]}]})(e)}function te(e){return g({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(e)}const re=({fetchProducts:e,fetchWithError:t,setFirstFetch:a})=>{const i=c=>()=>{a(!0),c()};return s("div",{className:"w-full sm:max-w-[500px] sm:w-fit my-1 flex items-center justify-between md:justify-center rounded-l-full rounded-r-full border-[1px] border-slate-500 bg-bckgrnd/60 overflow-hidden",children:[s("div",{className:"flex items-center justify-center my-[3px]",children:[r("div",{onClick:i(()=>e()),className:"p-[3px] mx-[2px] ml-1 bg-green-700 rounded-full duration-300 cursor-pointer",children:r(W,{className:"h-[18px] w-[18px] text-bckgrnd",title:"Refetch products"})}),r("div",{onClick:i(()=>t()),className:"p-[3px] mx-[2px] mr-1 bg-red-700 rounded-full cursor-pointer duration-300",children:r(ee,{className:"h-[18px] w-[18px] text-bckgrnd",title:"Refetch with error"})})]}),r("div",{className:"w-fit md:hidden h-[30px] ml-2 flex items-center justify-center font-merri text-[12px] rounded-l-full bg-emphasis",children:r("h2",{className:"mx-2 md:mt-[2px] text-bckgrnd text-[10px]",children:"Fetch"})})]})};function ae(e){return g({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}const ie=({fetchProducts:e})=>{const[t,a]=d.useState(""),[i,c]=d.useState(!1),o=d.useRef(null),l=n=>{a(n),o.current&&clearTimeout(o.current),n!==""?e(n):e(),i||c(!0)};return s("search",{onSubmit:()=>l(t),className:"h-[30px] w-full sm:max-w-[500px] m-0 flex-shrink basis-[200px] grow flex items-center justify-center flex-nowrap rounded-l-full rounded-r-full border-[1px] border-slate-500 overflow-hidden",children:[r("input",{name:"Search input",className:"inline-block w-full h-full sm:max-w-[500px] py-1 px-3 text-sm font-roboto rounded-l-full focus:outline-none placeholder:text-slate-500/50 bg-bckgrnd",type:"search",value:t,onChange:n=>l(n.target.value),placeholder:"Escargots à la Bourguignonne"}),r("div",{className:"h-full flex items-center justify-center px-2 bg-emphasis cursor-pointer rounded-r-full",onClick:()=>l(t),children:r(ae,{className:"text-bckgrnd"})})]})};var E=new Map,C=new WeakMap,L=0,se=void 0;function ne(e){return e?(C.has(e)||(L+=1,C.set(e,L.toString())),C.get(e)):"0"}function ce(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?ne(e.root):e[t]}`).toString()}function le(e){const t=ce(e);let a=E.get(t);if(!a){const i=new Map;let c;const o=new IntersectionObserver(l=>{l.forEach(n=>{var p;const m=n.isIntersecting&&c.some(u=>n.intersectionRatio>=u);e.trackVisibility&&typeof n.isVisible>"u"&&(n.isVisible=m),(p=i.get(n.target))==null||p.forEach(u=>{u(m,n)})})},e);c=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),a={id:t,observer:o,elements:i},E.set(t,a)}return a}function oe(e,t,a={},i=se){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const p=e.getBoundingClientRect();return t(i,{isIntersecting:i,target:e,intersectionRatio:typeof a.threshold=="number"?a.threshold:0,time:0,boundingClientRect:p,intersectionRect:p,rootBounds:p}),()=>{}}const{id:c,observer:o,elements:l}=le(a),n=l.get(e)||[];return l.has(e)||l.set(e,n),n.push(t),o.observe(e),function(){n.splice(n.indexOf(t),1),n.length===0&&(l.delete(e),o.unobserve(e)),l.size===0&&(o.disconnect(),E.delete(c))}}function de({threshold:e,delay:t,trackVisibility:a,rootMargin:i,root:c,triggerOnce:o,skip:l,initialInView:n,fallbackInView:p,onChange:m}={}){var u;const[N,H]=d.useState(null),T=d.useRef(),[k,j]=d.useState({inView:!!n,entry:void 0});T.current=m,d.useEffect(()=>{if(l||!N)return;let w;return w=oe(N,(_,z)=>{j({inView:_,entry:z}),T.current&&T.current(_,z),z.isIntersecting&&o&&w&&(w(),w=void 0)},{root:c,rootMargin:i,threshold:e,trackVisibility:a,delay:t},p),()=>{w&&w()}},[Array.isArray(e)?e.toString():e,N,c,i,o,l,a,p,t]);const M=(u=k.entry)==null?void 0:u.target,B=d.useRef();!N&&M&&!o&&!l&&B.current!==M&&(B.current=M,j({inView:!!n,entry:void 0}));const f=[H,k.inView,k.entry];return f.ref=f[0],f.inView=f[1],f.entry=f[2],f}function I(e){return g({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"},child:[]}]})(e)}function pe(e){return g({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(e)}const he=e=>{const{ref:t,inView:a}=de({triggerOnce:!0,threshold:.5}),i=()=>e.execCartAction({type:"ADD_TO_CART",payload:{name:e.name,product_id:e.id,quantity:1,price:e.price}});return r("article",{ref:t,className:"h-[225px] basis-[325px] grow my-1 sm:m-2 rounded-lg overflow-hidden shadow-md antialiased",children:a?s("div",{className:"relative h-full w-full flex flex-col items-center justify-between smth_appear_slow bg-bckgrnd/80",children:[s("div",{className:"w-full p-1 flex flex-col items-center bg-primary",children:[s("h1",{className:"font-merri font-bold text-center text-sm md:text-base text-text",children:["~ ",e.name," ~"]}),r("h2",{className:"text-[12px] hidden xs:block sm:text-sm text-text",children:e.category})]}),s("p",{className:"max-w-[350px] my-2 px-1 text-center font-roboto text-[11px] sm:text-[12px] leading-tight sm:leading-normal text-text italic",children:['"',e.description,'"']}),s("h3",{className:"font-merri text-[11px] sm:text-[13px] text-text",children:[" Preparation time: ",e.preparationTime,"'"]}),s("h2",{className:"mb-1 sm:mb-2 text-sm md:text-base font-merri font-bold text-green-800",children:["$ ",e.price]}),e.availability?r("div",{onClick:()=>i(),className:"mb-1 sm:mb-2 flex items-center justify-center py-1 px-4 text-text bg-emphasis hover:bg-text rounded-xl cursor-pointer duration-200",children:r(I,{className:"h-[25px] w-[25px] text-primary",title:"Add to cart"})}):r("div",{className:"mb-1 sm:mb-2 flex items-center justify-center py-1 px-4 text-text bg-bckgrnd border-slate-500/80 border-[1px] rounded-xl smth_appear opacity-50",children:r(pe,{className:"h-[23px] w-[23px] text-emphasis/80",title:"Product added to cart"})}),s("p",{className:"absolute right-2 bottom-2 font-merri text-[12px] sm:text-sm",children:[e.rating,"/5⭐"]}),r("div",{className:"absolute left-2 bottom-0 h-[40px] w-[40px]",children:e.category==="Appetizer"?r("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 125",children:r("g",{transform:"translate(0,-952.36218)",children:r("path",{d:"m 43.822055,976.30761 a 0.99853978,1.0005488 0 0 0 -0.873635,1.03171 l 0,7.40958 c -6.006707,0.57094 -11.542874,1.88188 -16.318252,3.75168 l -0.655227,-4.31444 a 0.99853978,1.0005488 0 0 0 -1.060842,-0.87539 0.99853978,1.0005488 0 0 0 -0.936037,1.15677 l 0.74883,4.7834 c -1.009349,0.44704 -1.97592,0.93863 -2.901716,1.43814 -7.253585,3.91364 -11.887676,9.45344 -11.887676,15.66324 0,6.2099 4.634091,11.7184 11.887676,15.632 7.253584,3.9137 17.180932,6.3154 28.112324,6.3154 10.931392,0 20.85874,-2.4017 28.112324,-6.3154 7.253585,-3.9136 11.887676,-9.4221 11.887676,-15.632 0,-6.2098 -4.634091,-11.7496 -11.887676,-15.66324 -4.417949,-2.38368 -9.826694,-4.17404 -15.850234,-5.22109 L 60.920339,977.183 a 0.99853978,1.0005488 0 0 0 -1.060842,-0.87539 0.99853978,1.0005488 0 0 0 -0.936038,1.15677 l 1.185648,7.65968 c -3.252534,-0.46071 -6.655275,-0.6878 -10.171607,-0.6878 -1.691829,0 -3.354787,0.0465 -4.9922,0.15632 l 0,-7.25326 a 0.99853978,1.0005488 0 0 0 -1.123245,-1.03171 z m 6.115445,9.94196 c 3.62286,0 7.136304,0.27366 10.452418,0.7816 l 0.530421,3.43904 a 1.0082639,1.0102924 0 0 0 0.0624,0.21885 c -1.313817,0.45237 -2.426377,1.33833 -3.151326,2.50112 -2.469767,-0.50315 -5.114419,-0.7816 -7.893916,-0.7816 -0.494481,0 -0.979054,0.0183 -1.466459,0.0313 -0.895622,-1.03938 -2.119549,-1.7649 -3.525741,-2.0009 a 0.99853978,1.0005488 0 0 0 0,-0.0938 l 0,-3.90801 c 1.635536,-0.11567 3.297535,-0.18758 4.9922,-0.18758 z m -6.98908,0.37517 0,3.72042 a 0.99853978,1.0005488 0 0 0 0,0.0938 c -2.09819,0.35214 -3.82856,1.7835 -4.586583,3.72042 -2.884898,0.93843 -5.39961,2.19509 -7.332293,3.75168 -0.866285,-0.79553 -1.968272,-1.32378 -3.182528,-1.50067 l -0.904836,-6.0027 c 4.607127,-1.87821 10.058115,-3.18759 16.00624,-3.78295 z m 19.531982,0.7816 c 4.256939,0.79789 8.145456,1.97706 11.544461,3.4703 a 0.99853978,1.0005488 0 0 0 -0.0936,0.25012 l -2.152886,10.12954 c -0.727193,-1.2459 -1.769854,-2.3865 -3.057723,-3.40778 0.122878,-0.47742 0.187208,-0.986 0.187208,-1.50067 0,-3.30334 -2.693927,-6.00269 -5.99064,-6.00269 a 1.0082639,1.0102924 0 0 0 0,-0.15632 l -0.436817,-2.7825 z m -37.472699,3.84547 0.811232,5.22109 c -2.753861,0.5383 -4.836193,2.96599 -4.836193,5.8776 0,3.3033 2.693927,6.0027 5.990639,6.0027 0.175216,0 0.358926,-0.016 0.530422,-0.031 1.194317,2.9074 4.064908,5.3276 7.862714,7.0656 3.990653,1.8264 9.049955,2.9076 14.570983,2.9076 6.159474,0 11.722871,-1.3337 15.881435,-3.5641 1.07221,1.0058 2.510517,1.6257 4.087364,1.6257 3.296713,0 5.990639,-2.6994 5.990639,-6.0027 0,-2.1828 -1.18373,-4.1078 -2.932917,-5.1585 -4.59e-4,-0.022 -0.03055,-0.041 -0.0312,-0.063 l 2.901716,-13.41223 c 0.360617,0.18002 0.713993,0.37561 1.060842,0.56276 6.839617,3.69027 10.920437,8.67547 10.920437,14.06877 0,5.3934 -4.08082,10.3473 -10.920437,14.0376 -6.839617,3.6903 -16.383769,6.0339 -26.957878,6.0339 -10.574109,0 -20.118261,-2.3436 -26.957878,-6.0339 -6.839617,-3.6903 -10.920437,-8.6442 -10.920437,-14.0376 0,-5.3933 4.08082,-10.3785 10.920437,-14.06877 0.652925,-0.35229 1.327061,-0.70508 2.028081,-1.03172 z m 18.939157,1.09424 c 2.217519,0 3.99376,1.77982 3.99376,4.0018 0,2.22199 -1.776241,4.00175 -3.99376,4.00175 -2.217518,0 -3.993759,-1.77976 -3.993759,-4.00175 0,-2.22198 1.776241,-4.0018 3.993759,-4.0018 z m 18.970359,0 c 2.217518,0 3.99376,1.77982 3.99376,4.0018 0,2.22199 -1.776242,4.00175 -3.99376,4.00175 -2.217518,0 -3.99376,-1.77976 -3.99376,-4.00175 0,-2.22198 1.776242,-4.0018 3.99376,-4.0018 z m -13.354134,1.93837 c 0.124365,-0.002 0.248779,0 0.374415,0 2.516612,0 4.914158,0.25102 7.145086,0.68781 -0.102672,0.43876 -0.156006,0.9065 -0.156006,1.37562 0,3.30335 2.693926,6.00265 5.990639,6.00265 2.060446,0 3.882013,-1.0601 4.960999,-2.6574 1.627266,1.4334 2.633961,3.0335 2.901716,4.7209 -0.281394,-0.041 -0.581305,-0.063 -0.873635,-0.063 -3.296713,0 -5.99064,2.6993 -5.99064,6.0027 0,1.0168 0.236924,1.9725 0.686428,2.8138 -3.75099,1.9796 -8.908771,3.2515 -14.664587,3.2515 -5.207104,0 -9.965784,-1.0239 -13.603744,-2.6888 -3.417282,-1.5639 -5.790431,-3.6888 -6.770671,-5.9714 2.006917,-0.9722 3.400936,-3.0344 3.400936,-5.4087 0,-1.0323 -0.255288,-1.9946 -0.717629,-2.84499 1.465429,-1.23057 3.429624,-2.29829 5.709829,-3.15766 0,3.30335 2.693926,6.00265 5.990639,6.00265 3.296713,0 5.99064,-2.6993 5.99064,-6.00265 0,-0.72261 -0.138487,-1.42056 -0.374415,-2.06343 z m -22.714509,4.06433 a 1.0082639,1.0102924 0 0 0 0.187208,0 c 2.188062,0.0333 3.931357,1.80085 3.931357,4.00175 0,2.222 -1.776241,4.0018 -3.99376,4.0018 -2.217518,0 -3.993759,-1.7798 -3.993759,-4.0018 0,-2.1798 1.710423,-3.93595 3.868954,-4.00175 z m 43.057723,8.00355 c 2.217518,0 3.99376,1.7798 3.99376,4.0018 0,2.222 -1.776242,4.0018 -3.99376,4.0018 -1.140925,0 -2.176236,-0.4592 -2.901716,-1.2193 a 1.0628995,0.93996435 0 0 0 -0.24961,-0.3126 c -0.526316,-0.6777 -0.842434,-1.538 -0.842434,-2.4699 0,-2.222 1.776242,-4.0018 3.99376,-4.0018 z",fill:"#000000",fillOpacity:"1",stroke:"none",visibility:"visible",display:"inline",overflow:"visible"})})}):e.category==="Main Course"?s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 125",x:"0px",y:"0px",children:[r("path",{d:"M51.32,27.18c-.28,0-.55-.09-.75-.27-1.18-1.07-3.65-4.96-1.13-8.01,1.98-2.4-1.22-6.42-1.25-6.46-.3-.37-.18-.86,.28-1.11,.46-.24,1.08-.14,1.39,.23,.16,.2,3.98,4.91,1.25,8.22-1.87,2.27,.2,5.39,.96,6.07,.37,.33,.33,.84-.09,1.13-.19,.13-.43,.2-.66,.2Z"}),r("path",{d:"M59.25,26.98c-.3,0-.6-.11-.79-.31-1.33-1.38-2.36-4.61,.2-7.84,2.67-3.35-1.68-8.52-1.72-8.57-.31-.36-.19-.86,.26-1.11s1.08-.15,1.39,.21c.21,.25,5.12,6.09,1.76,10.33-2.25,2.83-.94,5.35-.3,6.02,.34,.35,.25,.85-.19,1.12-.18,.11-.4,.16-.61,.16Z"}),r("path",{d:"M87,79H13c-.55,0-1-.45-1-1s.45-1,1-1H87c.55,0,1,.45,1,1s-.45,1-1,1Z"}),r("path",{d:"M56.44,38.08c.01-.06,.04-.12,.04-.19-.04-3.53-2.94-6.41-6.48-6.41s-6.44,2.88-6.48,6.41c0,.07,.02,.13,.04,.19-15.69,3.01-27.56,16.81-27.56,33.38,0,.52,.01,1.03,.03,1.54H83.97c.02-.51,.03-1.02,.03-1.54,0-16.57-11.86-30.37-27.56-33.38Zm-6.44-4.6c2.41,0,4.38,1.93,4.47,4.32-1.13-.08-2.79-.12-4.47-.12s-3.34,.04-4.47,.12c.08-2.39,2.06-4.32,4.47-4.32Zm-32,37.52c.11-7.48,2.84-14.7,7.71-20.38,4.92-5.73,11.71-9.55,19.13-10.75,.57-.09,2.42-.19,5.16-.19s4.59,.1,5.16,.19c7.41,1.2,14.2,5.02,19.13,10.75,4.87,5.68,7.6,12.9,7.71,20.38H18Z"})]}):r("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"-5.0 -10.0 110.0 135.0",children:r("path",{d:"m79.418 49.375c0.15234-0.33984 0.74609-0.80859 0.74609-1.8789 0-3.5195-3.5-5.9258-7.1602-7.1484-1.1445-0.38281-0.87891-1.3594-0.87891-2.1484 0-5.4844-5.793-9.168-10.914-9.1367-1.043 0.007812-1.1328-0.75781-1.9922-1.7148l-0.26562 1.3555-0.019531 0.074219c-1.4844 5.4492-7.0117 8.75-12.512 7.3164l0.003906 0.007812-0.074219-0.019531c-3.5273-0.96094-6.1758-3.6914-7.1797-7.0625-0.097656 0.027344-0.19922 0.039063-0.30859 0.042969-5.8867 0.11328-11.539 4.2148-10.953 9.9023h-0.003906c0.21094 2.0352-3.1992 1.2773-6.3945 4.5977-1.4141 1.4688-2.332 3.9375-1.1328 5.4961 1.8711 2.4375 5.9258 4.1094 9.7148 5.1055 1.6914 0.44531 0.29688 2.1914 2.2812 4.1758 2.1992 2.1953 5.625 1.0977 6.5664-1.4141 0.19141-0.57031 0.75781-0.94922 1.3789-0.88672 10.457 1.1172 22.805 0.40625 31.523-2.4648 3.6797-1.207 6.3516-2.6562 7.5742-4.1992zm-32.422-28.594c-0.054688 1.8633 1.5 3.2578 3.2891 3.3047 3.1953 0.089843 3.375-2.9453 1.4688-3.0391 0.30859-0.65625 0.63281-1.2812 0.97266-1.875 3.0703 1.7227 4.6172 5.375 3.6992 8.8594l-0.019531 0.066406c-1.1094 4.082-5.2266 6.5469-9.3047 5.4766l-0.0625-0.015625c-4.1289-1.1211-6.5195-5.4258-5.4297-9.5664l0.019531-0.066407c1.0391-3.8242 4.7305-6.2578 8.5898-5.6289-0.30469 0.55469-0.59766 1.1328-0.87891 1.7344-0.73438-0.97656-2.3086-0.48438-2.3438 0.75zm4.6836-4.8438c2.0234-2.8945 4.5859-5.1562 7.7891-6.4609 1.582-0.64453 2.5664 1.7695 0.98438 2.4141-2.5352 1.0312-4.6094 2.8086-6.2969 5.082 4.2227 2.4648 4.8477 6.6992 4.9102 6.7969 0.5 0.50781 1.5039 0.91797 2.8086 2.7109 6.5742 0.40234 12.871 4.9961 12.871 11.738 4.4648 1.793 8.0391 4.7383 8.0391 9.2773 0 1.0039-0.32031 1.9688-0.92578 2.8867l-2.0352 11.508c6.1914 1.9453 15.176 5.9375 15.176 12.371 0 4.7812-5.2305 8.9727-13.684 11.887-17.34 5.9766-45.297 5.9766-62.637 0-8.4492-2.9102-13.68-7.1055-13.68-11.887 0-6.4336 8.9844-10.43 15.172-12.375l-2.0273-11.465c-0.60938-0.92188-0.93359-1.9023-0.93359-2.9297 0-4.5391 3.5742-7.4844 8.0391-9.2773 0-6.668 6.2148-11.328 12.871-11.738 1.3555-1.875 0.097656 0.15234 0.96094-3.168l0.019531-0.074219c1.4844-5.4492 7.0117-8.75 12.512-7.3164zm27.238 51.09c8.9688 4.457 6.8867 11.035-5.1211 14.648-13.184 3.9688-34.41 3.9688-47.594 0-12.008-3.6133-14.09-10.191-5.1211-14.648l-0.44922-2.5469c-15.066 4.8359-19.02 13.016-1.1016 19.191 16.785 5.7852 44.148 5.7852 60.938 0 9.6719-3.3359 16.34-8.8125 8.3867-14.707-2.2812-1.6914-5.5195-3.2109-9.4883-4.4844zm-57.359 2.7031c-15.449 8.4688 26.742 16.891 51.488 9.4375 7.9805-2.4023 12.074-5.7734 5.3906-9.4375-0.39453 2.2422-0.59766 4.6094-3.3047 5.6445-7.1953 2.7461-16.172 4.1211-25.133 4.1211v-0.003906c-8.9688 0-17.945-1.375-25.133-4.1211-2.7109-1.0312-2.9102-3.3945-3.3086-5.6406zm27.129-27.863c0-1.7266 2.6211-1.7266 2.6211 0v8.6523c0 1.7266-2.6211 1.7266-2.6211 0zm-13.027 5.2109c-0.38281 1.6797-2.9336 1.0938-2.5508-0.58594 1.3359-5.8203 6.3555-10.285 7.4492-7.5547 0.26953 0.67188-0.058594 1.4297-0.72656 1.6992-2.0977 0.84375-3.7773 4.7422-4.1719 6.4414zm31.227-0.58594c0.38281 1.6797-2.1641 2.2617-2.5508 0.58594-0.45703-1.9844-1.9883-5.3711-4.2617-6.4805-1.543-0.75391-0.39453-3.1016 1.1484-2.3438 3.082 1.5039 5.0234 5.4609 5.6641 8.2383zm-45.562 6.8594c1.8594 1.1797 4.3281 2.2305 7.2617 3.0977 1.1367 6.2734 9.1953 7.8008 12.371 2.2812 11.793 1.1445 29.223 0.066406 37.727-5.4062l-3.1484 17.805c-0.14453 0.82031-0.53906 1.4883-1.3281 1.793-6.8984 2.6367-15.547 3.957-24.207 3.957v0.003906c-8.6523 0-17.301-1.3203-24.203-3.957-0.79297-0.30469-1.1836-0.96875-1.3281-1.793z",fillRule:"evenodd"})})})]}):r(x,{})})},h=O("cart",[]);function me(){const[e,t]=d.useReducer(ue,h.data);return{cart:e,execCartAction:t}}function ue(e,t){switch(t.type){case"GET_CART":return[...h.data];case"ADD_TO_CART":return h.data.push(t.payload),h.write(),[...h.data];case"DELETE_FROM_CART":return h.data=h.data.filter(a=>a.product_id!==t.payload.id),h.write(),[...h.data];case"UPDATE_QUANTITY":return h.data=h.data.map(a=>a.product_id===t.payload.id?{...a,quantity:t.payload.newQuantity}:a),h.write(),[...h.data]}}function fe(e){return g({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Remove"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M9.525,13.765a.5.5,0,0,0,.71.71c.59-.59,1.175-1.18,1.765-1.76l1.765,1.76a.5.5,0,0,0,.71-.71c-.59-.58-1.18-1.175-1.76-1.765.41-.42.82-.825,1.23-1.235.18-.18.35-.36.53-.53a.5.5,0,0,0-.71-.71L12,11.293,10.235,9.525a.5.5,0,0,0-.71.71L11.293,12Z"},child:[]},{tag:"path",attr:{d:"M12,21.933A9.933,9.933,0,1,1,21.934,12,9.945,9.945,0,0,1,12,21.933ZM12,3.067A8.933,8.933,0,1,0,20.934,12,8.944,8.944,0,0,0,12,3.067Z"},child:[]}]}]}]})(e)}const xe=({productData:{name:e,price:t,product_id:a,quantity:i},execCartAction:c})=>r("li",{children:s("article",{className:"w-full h-fit px-2 flex items-center justify-between text-lg",children:[r("h1",{className:"w-full px-1 text-ellipsis overflow-hidden text-nowrap font-crayon",title:e,children:e}),s("div",{className:"w-[100px] flex items-center justify-between font-merri select-none",children:[r("span",{onClick:i<=1?void 0:()=>c({type:"UPDATE_QUANTITY",payload:{id:a,newQuantity:i-1}}),className:`font-bold cursor-pointer ${i===1?"text-slate-500":""}`,children:"< "}),r("h1",{className:"inline text-md",children:i}),r("span",{className:`font-bold cursor-pointer ${i>=10?"text-slate-500":""}`,onClick:i>=10?void 0:()=>c({type:"UPDATE_QUANTITY",payload:{id:a,newQuantity:i+1}}),children:" >"})]}),s("h1",{className:"w-[100px] text-end text-sm font-merri",children:["$",(t*i).toFixed(1)]}),r("div",{className:"w-[50px] pr-1",children:r(fe,{onClick:()=>c({type:"DELETE_FROM_CART",payload:{id:a}}),className:"h-[22px] w-[22px] float-right hover:scale-105 fill-red-500 hover:bg-red-500 hover:fill-bckgrnd cursor-pointer duration-200 rounded-full"})})]})}),ge=({cart:e,setCartOpen:t,execCartAction:a})=>(d.useEffect(()=>{e.length===0&&t(!1)},[e]),r(x,{children:Z.createPortal(r("div",{onClick:()=>{t(!1)},className:"fixed bottom-0 left-0 h-[calc(100vh-45px)] md:h-[calc(100vh-61px)] w-full fadein_left bg-slate-500/30 z-0",children:r("aside",{className:"fixed top-0 right-0 h-[calc(100vh-45px)] md:h-[calc(100vh-61px)] flex flex-col items-center justify-between w-full xs:w-[400px] bg-bckgrnd/90 rounded-lg z-10",onClick:i=>i.stopPropagation(),children:s("div",{className:"w-full h-full mx-1 flex flex-col items-center justify-between text-text border-[1px] border-emphasis rounded-lg",children:[s("ul",{className:"h-full w-full",children:[r("img",{src:"/table_decoration.webp",className:"w-full xs:w-[400px] h-[110px]",alt:"Cart container cornice",loading:"lazy"}),s("div",{className:"w-full px-2 py-1 mb-2 flex items-center justify-between font-merri font-bold",children:[r("h1",{className:"w-full",children:"Dish"}),r("h1",{className:"w-[100px] text-end",children:"Quantity"}),r("h1",{className:"w-[100px] text-end",children:"Price"}),r("span",{className:"w-[50px]"})]}),e.map(i=>r(xe,{productData:i,execCartAction:a},Q())),r("div",{className:"w-full h-[1px] my-2 flex items-center justify-center",children:r("span",{className:"block w-[95%] h-[1px] bg-emphasis"})}),s("div",{className:"w-full px-2 my-1 flex items-center justify-between font-merri",children:[s("span",{className:"font-bold",children:["Total ",s("span",{className:"text-emphasis font-normal",children:["(","+ shipment",")"]}),": "]}),s("span",{className:"font-bold",children:["$",(e.reduce((i,c)=>i+=c.price*c.quantity,0)+10).toFixed(1)]})]})]}),s("div",{className:"w-full flex pb-4 items-end justify-between font-merri",children:[r("div",{onClick:()=>t(!1),className:"w-fit h-fit p-2 xs:px-3 ml-2 xs:ml-4 xs:py-2 xs:text-sm text-xs bg-bckgrnd text-text shadow-sm shadow-slate-500 hover:bg-emphasis hover:text-bckgrnd rounded-md cursor-pointer duration-100",children:"hide"}),r("div",{onClick:()=>t(!1),className:"w-fit h-fit p-2 xs:px-3 xs:py-2 xs:text-sm text-xs bg-secondary text-text rounded-md shadow-sm shadow-slate-500 hover:bg-emphasis hover:text-bckgrnd cursor-pointer duration-100",children:"payment"}),s("p",{className:"w-[60px] sm:w-[65px] md:w-[70px] text-sm h-fit pr-2 font-roboto text-right leading-tight tracking-tight",children:["Max servings per dish: ",r("b",{children:"10"})]})]})]})})}),document.getElementById("root"))})),we=({products:e})=>{const{cart:t,execCartAction:a}=me(),[i,c]=d.useState(!1),[o,l]=d.useState(!1);d.useEffect(()=>(globalThis.addEventListener("scroll",n),()=>{removeEventListener("scroll",n)}),[]);const n=()=>{globalThis.scrollY>30?l(!0):l(!1)},p=()=>{globalThis.scrollTo({top:0,behavior:"smooth"})};return s(x,{children:[s("div",{className:"relative h-fit w-full px-2",children:[r("ul",{className:"relative mb-[10px] flex items-center justify-around flex-wrap h-full w-full",children:t&&e.map(m=>r(he,{...m,execCartAction:a,availability:!t.some(u=>m.id===u.product_id)},m.id))}),s("div",{className:"sticky w-full h-[50px] bottom-1 sm:bottom-2 antialiased",children:[r("div",{children:o&&!i?r("div",{onClick:p,className:"absolute h-[40px] w-[40px] sm:h-[50px] sm:w-[50px] ml-1 md:ml-2 mb-2 flex float-left items-center justify-center bg-secondary border-2 border-black rounded-full cursor-pointer smth_appear",title:"Back to top",children:r($,{className:"h-[22px] w-[22px] sm:h-[32px] sm:w-[32px] text-black"})}):r(x,{})}),!i&&t.length?s("div",{onClick:()=>c(!0),className:"relative h-[40px] w-[40px] sm:h-[50px] sm:w-[50px] flex items-center justify-center mr-1 sm:mr-2 mb-2 float-right smth_appear bg-secondary rounded-full border-text border-2 cursor-pointer duration-200 z-0",title:"Open cart",children:[t.length!==0?r("div",{className:"absolute flex h-[20px] w-[20px] items-center justify-center -top-1 -right-1 p-1 bg-primary text-bckgrnd border-[1px] border-black rounded-full smth_appear",children:r("h6",{className:"text-[12px] text-text font-merri m-0",children:t.length})}):r(x,{}),r(I,{className:"h-[22px] w-[22px] sm:h-[32px] sm:w-[32px] text-black"})]}):r(x,{})]})]}),i?r(ge,{cart:t,execCartAction:a,setCartOpen:c}):r(x,{})]})};function D(e){return g({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",x2:"12",y1:"2",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"18",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",x2:"6",y1:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",x2:"22",y1:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93"},child:[]}]})(e)}const be=()=>s("div",{className:"w-full h-[300px] md:h-[400px] flex flex-col items-center justify-around smth_appear",children:[r("h1",{className:"font-merri text-base md:text-xl tex-text text-center text_emphasis",children:"We are bringing your menu..."}),s("div",{className:"flex items-center justify-center",children:[r(D,{className:"h-[55px] w-[55px] md:h-[70px] md:w-[70px] text-slate-800 animate-spin"}),r(D,{className:"absolute h-[26px] w-[26px] md:h-[32px] md:w-[32px] text-slate-800 animate-spin-reverse"})]})]}),ve=()=>s("div",{className:"w-full h-[300px] md:h-[400px] flex flex-col items-center justify-around smth_appear",children:[r("h1",{className:"font-merri text-base md:text-xl tex-text text-center text_emphasis",children:"Fetching failed succesfully 😐"}),r(te,{className:"h-[55px] w-[55px] md:h-[70px] md:w-[70px] text-red-500"})]}),Te=()=>{const{products:e,loadState:t,setProducts:a,fetchProducts:i,fetchWithError:c}=X(),[o,l]=d.useState(!0);return d.useEffect(()=>{t==="success"&&o&&l(!1)},[t]),s("section",{className:"relative min_section_box w-full h-fit",children:[s("div",{className:"w-full flex items-center my-1 px-1 md:px-2 justify-between flex-wrap-reverse",children:[r(ie,{fetchProducts:i}),r(re,{fetchProducts:i,fetchWithError:c,setFirstFetch:l})]}),t==="pending"&&o&&r(be,{}),t==="error"&&o&&r(ve,{}),e&&!o&&r(we,{products:e})]})};export{Te as default};
